<div class="mat-elevation-z8">
  <mat-card class="details" *ngIf="actualMode == 2">
    <mat-card-title>{{ show.generalData.name}}
    </mat-card-title>
    <mat-divider></mat-divider>
    <mat-card-content>
      <mat-card-subtitle>
        <table>
          <tr>
            <td>Type:</td>
            <td>{{show.generalData.type}}</td>
          </tr>
          <tr>
            <td>Director:</td>
            <td>{{show.generalData.director}}</td>
          </tr>
          <tr>
            <td>Scenario:</td>
            <td>{{show.generalData.scenario}}</td>
          </tr>
          <tr>
            <td>Release date:</td>
            <td>{{show.generalData.releaseDate}}</td>
          </tr>
          <tr>
            <td>Description:</td>
            <td>{{show.generalData.description}}</td>
          </tr>
          <tr>
            <td>Cast:</td>
            <td>{{show.generalData.cast}}</td>
          </tr>
          <tr>
            <td>Age limit:</td>
            <td>{{show.generalData.ageLimit}}</td>
          </tr>
        </table>
      </mat-card-subtitle>
      <table>
        <tr>
          <td>Screening time:</td>
          <td>{{show.screeningData.screeningTime}} min</td>
        </tr>
        <tr>
          <td>Screening period:</td>
          <td>From {{show.screeningData.screeningStartPeriod}} to {{show.screeningData.screeningEndPeriod}}</td>
        </tr>
      </table>
    </mat-card-content>
    <mat-divider></mat-divider>
    <mat-card-actions>
      <button mat-button color="primary" (click)="switchToModeEdit(show)">Edit</button>
      <button mat-button color="primary" class="delete-button" color="primary">Delete</button>
    </mat-card-actions>
  </mat-card>


  <mat-card class="details" *ngIf="actualMode == 0 || actualMode == 1">
    <form [formGroup]="showItemDetails">
      <div formGroupName="generalData">
          <mat-card-title>
            <mat-form-field class="form-element" appearance="outline">
              <mat-label>name</mat-label>
              <input matInput formControlName="name">
            </mat-form-field>
          </mat-card-title>
          <mat-divider></mat-divider>
          <mat-card-content>
            <mat-card-subtitle>
              <mat-form-field appearance="outline">
                <mat-label>Type</mat-label>
                <input matInput formControlName="type">
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Director</mat-label>
                <input matInput formControlName="director">
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Scenario</mat-label>
                <input matInput formControlName="scenario">
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Release date:</mat-label>
                <input matInput formControlName="releaseDate">
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Description</mat-label>
                <textarea  matInput formControlName="description"></textarea>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-chip-list #chipList formArrayName="cast">
                  <mat-chip *ngFor="let person of showItemDetails.get('generalData.cast')['controls']; let i=index;"
                            [selectable]="selectable"
                            [removable]="removable"
                            (removed)="remove(i)">
                    {{ person['value'].person}}
                    <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                  </mat-chip>
                  <input placeholder="New cast member..."
                         [matChipInputFor]="chipList"
                         [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                         [matChipInputAddOnBlur]="addOnBlur"
                         (matChipInputTokenEnd)="add($event)">
                </mat-chip-list>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Age limit:</mat-label>
                <input  matInput type="number" formControlName="ageLimit">
              </mat-form-field>
              <mat-divider></mat-divider>
            </mat-card-subtitle>
          </mat-card-content>
      </div>
      <div formGroupName="screeningData">
        <mat-card-content>
          <mat-form-field appearance="outline">
            <mat-label>Screening time:</mat-label>
            <input type="number" matInput formControlName="screeningTime">
            <span matSuffix>&nbsp; min</span>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Screening from</mat-label>
            <input matInput
                   [matDatepicker]="picker"
                   formControlName="screeningStartPeriod"
                   (dateInput)="addEvent('input', $event)"
                   (dateChange)="addEvent('change', $event)">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Screening to</mat-label>
            <input matInput
                   [matDatepicker]="picker2"
                   formControlName="screeningEndPeriod"
                   (dateInput)="addEvent('input', $event)"
                   (dateChange)="addEvent('change', $event)">
            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-datepicker #picker2></mat-datepicker>
          </mat-form-field>
        </mat-card-content>
      </div>
    <mat-divider></mat-divider>
    <mat-card-actions>
      <button mat-button color="primary" (click)="saveChanges()">Save</button>
      <button mat-button class="delete-button" color="primary" class="delete-button" color="primary" (click)="discardChanges()">Discard</button>
    </mat-card-actions>
  </form>
  </mat-card>
</div>
